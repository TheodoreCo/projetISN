drop table if exists transition
create table if not exists transition(id_source integer not null, id_cible integer not null)
drop table if exists etat
create table if not exists etat (id integer not null, description varchar(2000) not null, point_entree varchar(200) not null, fichier_musique varchar(30))


insert into etat (id, description, point_entree, fichier_musique) values (1, 'Tu ouvres lentement les yeux. Tes paupières sont lourdes,et tu sens une douleur sourde t''étreindre le crâne.
Tu regardes autour de toi et tu ne reconnais pas l''endroit où tu te trouves. 
Tu te situes dans une pièce apparement vide, allongé sur un lit. Tu fermes les yeux à nouveau.
Ta tête te fait attrocement souffrir. 
Préfères tu surmonter ta souffrance et sortir du lit afin d''en savoir plus sur l''endroit où tu te trouves 
ou bien essaies tu de te rendormir pour récupérer des forces?', 'Point de départ ?', 'mysterious.ogg')

insert into etat (id, description, point_entree) values (2, 'Tu te réveilles. La salle est éclairée par une faible lumiere.
Une porte se trouve sur ta gauche, et une autre sur ta droite. 
Que fais tu ?', 'Je me réveille')

insert into etat (id, description, point_entree) values (3, 'Exténué, tu refermes tes paupières et sombres dans un sommeil de plomb. Tu es révéillé brusquement par un bruit de pas qui semblent s''avancer vers la chambre dans laquelle tu trouves.
Tu regardes autour de toi. Tu te trouves à l''intérieur d''une petite pièce, éclairée faiblement par une lampe suspendue au plafond.
Une porte se situe à ta droite, et une autre à ta gauche. Tu remarques que la serrure de la porte droite est rouillée. Que fais-tu?' , 'Je me rendors')

insert into etat (id, description, point_entree) values (200, 'Suspicieux à propos de l''endroit où tu te trouves, tu te caches sous le lit.', 'Je me cache sous le lit.')

insert into etat (id, description, point_entree) values (201, 'Intrigué par ta situation, tu préfères attendre et voir comment vont se dérouler les évenements.', 'Tu restes dans le lit sans rien faire')

insert into etat (id, description, point_entree) values (202, 'Effrayé, tu essaies de sortir de cette salle en actionnant la poignée de la porte droite.
Malheuresement, cette porte est VEROUILLEE, tu ne sors donc pas de la salle ', 'Tu essaies de sortir par la porte droite')

insert into etat (id, description, point_entree) values (203, 'Effrayé, tu essaies de sortir de cette salle en actionnant la poignée de la porte gauche.
La porte n''étant PAS VEROUILLEE, tu sors de la salle.', 'Tu essaies de sortir par la porte gauche')

insert into transition(id_source, id_cible) values (3,201)
insert into transition(id_source, id_cible) values (3,202)
insert into transition(id_source, id_cible) values (3,203)
insert into transition(id_source, id_cible) values (3,200)

insert into etat (id, description, point_entree) values (4, 'Tu te diriges vers la porte gauche. Tu tournes la poignée et tu sors de la pièce, pour arriver dans un sombre CORRIDOR.

Un escalier se trouve à ta droite, et le corridor vire à gauche, tu ne peux donc pas en voir la fin. Tu es en train de réfléchir à ce que tu vas faire, quand soudainement tu entends des bruits de pas, venant du fond du couloir! Que fais tu?', 'J''essaie de sortir de la piece par la porte gauche')

insert into etat (id, description, point_entree) values (5, 'tu rentres dans la chambre pour attendre que les bruits de pas cessent,et tu te retrouves face a un scientifique ' , 'je repars dans la chambre')

insert into etat (id, description, point_entree) values (6, 'tu patientes ... pour finalement rencontrer un personnage vetu de blanc imposant qui fait peur a voir ' , 'je patiente')

insert into etat (id, description, point_entree) values (7, 'tu prends les escaliers pour t''enfuir' , 'je prends les escaliers')



insert into etat (id, description, point_entree) values (8, 'Tu suis le couloir, tu tournes à gauche et tu retrouves face à face à un homme d''âge moyen, vêtu d''une blouse de laboratoire. Cet homme, t''apercevant, à l''air d''être désagréablement surpris de te rencontrer, et te fixe d''un air interrogateur.

Préfères tu engager une conversation avec lui, te retourner et courir, ou bien le frapper?' ,'Je progresse dans le couloir dans la direction des bruits de pas.')

insert into etat (id, description, point_entree) values (9, 'Tu demandes la raison pour laquelle tu te trouves dans ce bâtiment. La personne en blouse de laboratoire te répond d''une voix ennuyée que suite à un accident de la route, tu as été hospitalisé et il semble que tu aies perdu une partie une partie de ta mémoire.

Elle te demande poliment de regagner ta chambre et d''attendre.

Regardant autour de toi, tu remarques que ces lieux ne ressemblent pas vraiment à un hopital. Le scientifique fait demi-tour, et...' , 'J''engage la conversation.')

insert into etat (id, description, point_entree) values (10, 'tu prends la fuite ' , 'Je fais demi-tour, et je m''enfuis!')

insert into etat (id, description, point_entree) values (11, 'tu prends la fuite ' , 'Je le FRAPPE!  (yolo)')



insert into transition(id_source, id_cible) values (1,2)
insert into transition(id_source, id_cible) values (1,3)
insert into transition(id_source, id_cible) values (2,4)
insert into transition(id_source, id_cible) values (4,5)
insert into transition(id_source, id_cible) values (4,6)
insert into transition(id_source, id_cible) values (4,7)
insert into transition(id_source, id_cible) values (4,8)
insert into transition(id_source, id_cible) values (8,9)
insert into transition(id_source, id_cible) values (8,10)
insert into transition(id_source, id_cible) values (5,9)
insert into transition(id_source, id_cible) values (5,10)
insert into transition(id_source, id_cible) values (6,9)
insert into transition(id_source, id_cible) values (6,10)


insert into etat (id, description, point_entree) values (101, 'Tu te penches et tu regardes en dessous du lit. Il n''y a rien. 

Puis soudainement tu entends des bruits de pas!' , 'Je regarde ce qu''il y a en dessous du lit.')
insert into transition(id_source, id_cible) values (2,101)

insert into etat (id, description, point_entree) values (102, 'Tu te diriges vers la porte droite et tu essaies de tourner la poignée. Mais la porte est vérouillée! Tu remarques une serrure rouilée sous la poignée.

 Puis soudainement tu entends des bruits de pas! ' , 'je veux sortir par la porte droite.')
insert into transition(id_source, id_cible) values (2,102)
insert into etat (id, description, point_entree) values (110, 'tu te caches sous le lit' , 'je me cache sous le lit')
insert into etat (id, description, point_entree) values (111, 'Tu patientes. Les bruits de pas se rapprochent' , 'Je patiente.')
insert into etat (id, description, point_entree) values (112, 'Tu essayes de sortir par la porte droite. Malheuresement, elle est vérouillée.' , 'Je sorts de la pièce par la porte droite.')
insert into etat (id, description, point_entree) values (113, 'Tu reviens dans le lit. Les bruits de pas se rapprochent...' , 'Je reviens à l''intérieur du lit et je feins le sommeil.')
insert into etat (id, description, point_entree) values (114, 'Tu tournes la poignée et tu sors de la pièce.' , 'Je sors de la pièce par la porte gauche')

 
insert into transition(id_source, id_cible) values (102,110)
insert into transition(id_source, id_cible) values (102,111)
insert into transition(id_source, id_cible) values (102,112)
insert into transition(id_source, id_cible) values (102,113)
insert into transition(id_source, id_cible) values (102,114)
insert into transition(id_source, id_cible) values (101,110)
insert into transition(id_source, id_cible) values (101,111)
insert into transition(id_source, id_cible) values (101,112)
insert into transition(id_source, id_cible) values (101,113)
insert into transition(id_source, id_cible) values (101,114)

