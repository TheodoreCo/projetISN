drop table if exists transition
create table if not exists transition(id_source integer not null, id_cible integer not null)
drop table if exists etat
create table if not exists etat (id integer not null, description varchar(2000) not null, point_entree varchar(200) not null, fichier_musique varchar(30))


insert into etat (id, description, point_entree, fichier_musique) values (1, 'Tu ouvres lentement les yeux. Tes paupières sont lourdes,et tu sens une douleur sourde t''étreindre le crâne.
Tu regardes autour de toi et tu ne reconnais pas l''endroit où tu te trouves. 
Tu te situes dans une pièce apparement vide, allongé sur un lit. Tu fermes les yeux à nouveau.
Ta tête te fait attrocement souffrir. 
Préfères tu surmonter ta souffrance et sortir du lit afin d''en savoir plus sur l''endroit où tu te trouves 
ou bien essaies tu de te rendormir pour récupérer des forces?', 'Point de départ ?', 'mysterious.ogg')

insert into etat (id, description, point_entree) values (2, 'Tu te réveilles. La salle est éclairée par une faible lumiere.
Une porte se trouve sur ta gauche, et une autre sur ta droite. 
Que fais tu ?', 'Je me réveille')

insert into etat (id, description, point_entree) values (3, 'Exténué, tu refermes tes paupières et sombres dans un sommeil de plomb. Tu es révéillé brusquement par un bruit de pas qui semblent s''avancer vers la chambre dans laquelle tu trouves.
Tu regardes autour de toi. Tu te trouves à l''intérieur d''une petite pièce, éclairée faiblement par une lampe suspendue au plafond.
Une porte se situe à ta droite, et une autre à ta gauche. Tu remarques que la serrure de la porte droite est rouillée. Que fais-tu?' , 'Je me rendors')

insert into etat (id, description, point_entree) values (200, 'Tu te caches sous le lit.

Tu entends les bruits de pas se rapprocher. La porte s''ouvre brusquement, et tu entends quelqu''un entrer dans la salle. Après un dernier moment de silence, celui-ci s''exclame:

-Le sujet de test s''est échappé! Puis, celui-ci semble se retourner et cherche quelque chose dans la poche de son pantalon gris (tu n''arrives à voir que les jambes depuis l''endroit où tu es). Il est placé entre toi et la porte gauche. 

Restes-tu sous le lit dans l''espoir que l''homme au pantalon gris ne te remarque pas, essaies tu de sortir du lit silencieusement et de t''échapper par la porte droite ou bien essaies-tu de de sortir silencieusement du lit et d''attaquer l''homme par derrière? ', 'Je me cache sous le lit.')

insert into transition(id_source, id_cible) values (200,300)

insert into etat (id, description, point_entree) values (300, 'Tu restes sous le lit. L''homme sort un petit téléphone de la poche de son pantalon, puis crie d''une voix forte et angoissée dans le téléphone:

LE SUJET NUMERO 42 S''EST ECHAPPE! Retrouvez le! Il ne faut surtout pas qu''il quitte hagalab... sinon il deviendrera un danger pour nous... Empechez le de sortir, qu''il soit vivant ou mort. Sur ce, le scientifique ouvre la porte et quitte la salle.

', 'Je reste sous le lit')


insert into transition(id_source, id_cible) values (200,301)

insert into etat (id, description, point_entree) values (301, 'Tu réussis à sortir du lit sans faire aucun bruit. Tu remarques que l''homme est vêtu d''une blouse de laboratoire blanche. Satisfait de ta propre furtivité, tu t''avances vers la porte de droite.

Tu espères ouvrir vite la porte, sortir de la salle, la refermer, et t''échapper à tout vitesse. Tu essaies d''ouvrir la porte...', 'Je sors du lit et m''échappe par la porte droite')

insert into etat (id, description, point_entree) values (400, 'Tu te rends compte que la porte est VEROUILLEE. L''homme au pantalon gris se retourne en entendant le bruit que tu viens de faire.

Il te regarde droit dans les yeux... afin d''éclater de rire. Puis il te dit d''une voix glaciale : "Tu en sais trop maintenant. Je ne vais pas essayer de me faire passer pour quelqu''un d''autre. Tu vas rester ici, que tu le veuilles ou non.

Il fouille dans une poche de sa blouse, et sort un... TASER. Il s''avance vers toi, le sourire aux lèvres. Tu essaies de résister, mais c''est inutile. Tu perds conscience après avoir été tasé par l''homme au pantalon gris." ', 'J''essaie d''ouvrir la porte')




insert into transition(id_source, id_cible) values (200,302)





insert into etat (id, description, point_entree) values (201, 'Tu restes dans le lit. Un homme entre bientôt dans la salle.', 'Je reste dans le lit sans rien faire')

insert into etat (id, description, point_entree) values (202, 'Effrayé, tu essaies de sortir de cette salle en actionnant la poignée de la porte droite.
Malheuresement, cette porte est VEROUILLEE, tu ne sors donc pas de la salle ', 'Tu essaies de sortir par la porte droite')

insert into etat (id, description, point_entree) values (203, 'Effrayé, tu essaies de sortir de cette salle en actionnant la poignée de la porte gauche.
La porte n''étant PAS VEROUILLEE, tu sors de la salle.', 'Tu essaies de sortir par la porte gauche')

insert into transition(id_source, id_cible) values (3,201)
insert into transition(id_source, id_cible) values (3,202)
insert into transition(id_source, id_cible) values (3,203)
insert into transition(id_source, id_cible) values (3,200)




insert into etat (id, description, point_entree) values (4, 'Tu te diriges vers la porte gauche. Tu tournes la poignée et tu sors de la pièce, pour arriver dans un sombre CORRIDOR.

Un escalier se trouve à ta droite, et le corridor vire à gauche, tu ne peux donc pas en voir la fin. Tu es en train de réfléchir à ce que tu vas faire, quand soudainement tu entends des bruits de pas, venant du fond du couloir! Que fais tu?', 'J''essaie de sortir de la piece par la porte gauche')

insert into etat (id, description, point_entree) values (5, 'Tu rentres dans la chambre. Quelques secondes après avoir fermé la porte, un personnage vetu de blanc' , 'je repars dans la chambre')



insert into etat (id, description, point_entree) values (6, 'tu patientes ... pour finalement rencontrer un personnage vetu de blanc imposant qui fait peur a voir ' , 'je patiente')

insert into etat (id, description, point_entree) values (7, 'tu prends les escaliers pour t''enfuir' , 'je prends les escaliers')



insert into etat (id, description, point_entree) values (8, 'Tu suis le couloir, tu tournes à gauche et tu retrouves face à face à un homme d''âge moyen, vêtu d''une blouse de laboratoire. Cet homme, t''apercevant, à l''air d''être désagréablement surpris de te rencontrer, et te fixe d''un air interrogateur.

Préfères tu engager une conversation avec lui, te retourner et courir, ou bien le frapper?' ,'Je progresse dans le couloir dans la direction des bruits de pas.')

insert into etat (id, description, point_entree) values (9, 'Tu demandes la raison pour laquelle tu te trouves dans ce bâtiment. La personne en blouse de laboratoire te répond d''une voix ennuyée que suite à un accident de la route, tu as été hospitalisé et il semble que tu aies perdu une partie une partie de ta mémoire.

Elle te demande poliment de regagner ta chambre et d''attendre.

Regardant autour de toi, tu remarques que ces lieux ne ressemblent pas vraiment à un hopital. Le scientifique fait demi-tour, et...' , 'J''engage la conversation.')

insert into etat (id, description, point_entree) values (10, 'tu prends la fuite ' , 'Je fais demi-tour, et je m''enfuis!')

insert into etat (id, description, point_entree,fichier_musique) values (11,' ','Je le FRAPPE!  (yolo)', 'abyss.ogg')



insert into transition(id_source, id_cible) values (1,2)
insert into transition(id_source, id_cible) values (1,3)
insert into transition(id_source, id_cible) values (2,4)
insert into transition(id_source, id_cible) values (4,5)
insert into transition(id_source, id_cible) values (4,6)
insert into transition(id_source, id_cible) values (4,7)
insert into transition(id_source, id_cible) values (4,8)
insert into transition(id_source, id_cible) values (8,9)
insert into transition(id_source, id_cible) values (8,10)
insert into transition(id_source, id_cible) values (8,11)

insert into transition(id_source, id_cible) values (5,9)
insert into transition(id_source, id_cible) values (5,10)
insert into transition(id_source, id_cible) values (6,9)
insert into transition(id_source, id_cible) values (6,10)


insert into etat (id, description, point_entree) values (101, 'Tu te penches et tu regardes en dessous du lit. Il n''y a rien. 

Puis soudainement tu entends des bruits de pas!' , 'Je regarde ce qu''il y a en dessous du lit.')
insert into transition(id_source, id_cible) values (2,101)

insert into etat (id, description, point_entree) values (102, 'Tu te diriges vers la porte droite et tu essaies de tourner la poignée. Mais la porte est vérouillée! Tu remarques une serrure rouilée sous la poignée.

 Puis soudainement tu entends des bruits de pas! ' , 'je veux sortir par la porte droite.')
insert into transition(id_source, id_cible) values (2,102)
insert into etat (id, description, point_entree) values (110, 'tu te caches sous le lit' , 'je me cache sous le lit')
insert into etat (id, description, point_entree) values (111, 'Tu patientes. Les bruits de pas se rapprochent' , 'Je patiente.')
insert into etat (id, description, point_entree) values (112, 'Tu essayes de sortir par la porte droite. Malheuresement, elle est vérouillée.' , 'Je sorts de la pièce par la porte droite.')
insert into etat (id, description, point_entree) values (113, 'Tu reviens dans le lit. Les bruits de pas se rapprochent...' , 'Je reviens à l''intérieur du lit et je feins le sommeil.')
insert into etat (id, description, point_entree) values (114, 'Tu tournes la poignée et tu sors de la pièce.' , 'Je sors de la pièce par la porte gauche')

 
insert into transition(id_source, id_cible) values (102,110)
insert into transition(id_source, id_cible) values (102,111)
insert into transition(id_source, id_cible) values (102,112)
insert into transition(id_source, id_cible) values (102,113)
insert into transition(id_source, id_cible) values (102,114)
insert into transition(id_source, id_cible) values (101,110)
insert into transition(id_source, id_cible) values (101,111)
insert into transition(id_source, id_cible) values (101,112)
insert into transition(id_source, id_cible) values (101,113)
insert into transition(id_source, id_cible) values (101,114)	

